<div class="chart-container">
  <h2 *ngIf="currentChartType">{{ currentChartType | lowercase }}</h2>
  <!-- lowercase pipe used here to demonstrate use of pipes -->

  <!-- Highcharts container -->
  <highcharts-chart
    *ngIf="!chartError && !showTreemapCanvas && chartOptions.series && chartOptions.series.length"
    [Highcharts]="Highcharts"
    [options]="chartOptions"
    [update]="updateFlag"
    [oneToOne]="true"
    [runOutsideAngular]="false"
    [key]="chartKey"
    style="width: 100%; height: 400px; display: block"
  ></highcharts-chart>

  <!-- Chart.js canvas for treemap alternative -->
  <div *ngIf="!chartError && showTreemapCanvas" class="chartjs-container">
    <canvas #treemapCanvas style="width: 100%; height: 400px; max-width: 100%">
    </canvas>
  </div>

  <div *ngIf="chartError" class="error-msg">
    <h2>Error fetching chart details</h2>
    <p>There was a problem rendering this chart type. Please try another.</p>
  </div>

  <div *ngIf="!currentChartType && !chartError" class="no-chart-msg">
    <h2>No chart selected</h2>
    <p>Please choose a chart type from the sidebar.</p>
  </div>
</div>
